<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  {{ if hugo.IsProduction -}}
    <meta name="robots" content="index, follow" />
  {{ else -}}
    <meta name="robots" content="noindex, nofollow" />
  {{ end -}}
  <link rel="icon shortcut" href="{{ "favicon.ico" | relURL }}" sizes="32x32" />
  <link rel="icon" href="{{ "favicon.svg" | relURL }}" type="image/svg+xml" />
  <link rel="icon" href="{{ "favicon-dark.svg" | relURL }}" type="image/svg+xml" media="(prefers-color-scheme: dark)" />
  <link rel="icon" href="{{ "favicon-16x16.png" | relURL }}" type="image/png" sizes="16x16" />
  <link rel="icon" href="{{ "favicon-32x32.png" | relURL }}" type="image/png" sizes="32x32" />
  <link rel="apple-touch-icon" href="{{ "apple-touch-icon.png" | relURL }}" sizes="180x180" />
  <link fetchpriority="low" href="{{ "site.webmanifest" | relURL }}" rel="manifest" />
  <title>
    {{- if .IsHome -}}
      {{ .Site.Title -}}
    {{ else -}}
      {{ with .Title }}{{ . }} â€“ {{ end -}}
      {{ .Site.Title -}}
    {{ end -}}
  </title>
{{/*  <meta name="description" content="{{ partial "utils/page-description.html" . }}" />*/}}

  {{ with .Params.canonical }}
    <link rel="canonical" href="{{ . }}" itemprop="url" />
  {{ else }}
    <link rel="canonical" href="{{ .Permalink }}" itemprop="url" />
  {{ end }}

{{/*  {{ template "_internal/schema.html" . -}}*/}}
{{/*  {{ template "_internal/twitter_cards.html" . -}}*/}}

  {{ partialCached "head-css.html" . }}





  <script>
    /* Initialize light/dark mode */
    const defaultTheme = '{{ site.Params.theme.default | default `system`}}';

    const setDarkTheme = () => {
      document.documentElement.classList.add("dark");
      document.documentElement.style.colorScheme = "dark";
    }
    const setLightTheme = () => {
      document.documentElement.classList.remove("dark");
      document.documentElement.style.colorScheme = "light";
    }

    if ("color-theme" in localStorage) {
      localStorage.getItem("color-theme") === "dark" ? setDarkTheme() : setLightTheme();
    } else {
      defaultTheme === "dark" ? setDarkTheme() : setLightTheme();
      if (defaultTheme === "system") {
        window.matchMedia("(prefers-color-scheme: dark)").matches ? setDarkTheme() : setLightTheme();
      }
    }
  </script>

</head>
